<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      360Hub:
      <!-- Title -->
    </title>
    <link rel="icon" href="https://homies-theta.vercel.app/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    rel="stylesheet">
    <link rel="stylesheet" href="https://bootswatch.com/5/<!-- Theme -->/bootstrap.min.css">
    <!-- Video.js -->
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet">
    <style>
      /* ================= PLAYER UI ================= */ .video-wrapper{ max-width:48%;
      margin:auto; background:#000; border-radius:12px; overflow:hidden; box-shadow:0
      10px 30px rgba(0,0,0,.5); } .video-js{ width:100%; aspect-ratio:16/9; font-size:14px;
      } .vjs-control-bar{ background:linear-gradient(to top,rgba(0,0,0,.8),transparent);
      } .vjs-big-play-button{ border-radius:50%; width:80px; height:80px; line-height:80px;
      font-size:3em; background:rgba(0,0,0,.6); } .card{max-width:48%;margin:auto}
      .container{gap:10px} @media(max-width:992px){ .video-wrapper,.card{max-width:95%}
      }
    </style>
  </head>
  
  <body>
    <nav class="navbar navbar-dark bg-primary p-1 mb-3">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <img src="https://homies-theta.vercel.app/logo.png" height="40">
        </a>
      </div>
    </nav>
    <!--=================P LAYER=================- ->
    <div class="video-wrapper">
    <video
    id="player"
    class="video-js vjs-big-play-centered"
    controls
    playsinline
    poster="<!-- Poster -->
    ">
    </video>
    </div>
    <div class="card bg-light mt-3">
      <div class="card-body">
        <h5>
          ğŸ¬ Name:
          <!-- Title -->
        </h5>
        <p>
          ğŸŒ Language: Multi-Language
        </p>
        <p>
          ğŸ“º Quality: Adaptive (HLS)
        </p>
        <p>
          â± Duration:
          <!-- Duration -->
        </p>
        <p>
          ğŸ’¾ Size:
          <!-- Size -->
        </p>
        <p>
          ğŸ“ Format: HLS (.m3u8)
        </p>
      </div>
    </div>
    <div class="container d-flex justify-content-center mt-3">
      <div class="btn btn-primary" onclick="mx_player()">
        MX Player
      </div>
      <div class="btn btn-primary" onclick="vlc_player()">
        VLC
      </div>
      <div class="btn btn-primary" onclick="km_player()">
        KM Player
      </div>
      <div class="btn btn-primary" onclick="copyUrl()">
        Copy URL
      </div>
      <div class="btn btn-primary" onclick="download()">
        Download
      </div>
    </div>
    <footer class="text-center mt-3">
      Â© 2025
      <a href="https://360hub.fun">
        360Hub
      </a>
    </footer>
    <!-- Video.js (includes HLS / VHS) -->
    <script src="https://vjs.zencdn.net/8.10.0/video.min.js">
    </script>
    <script>
      /* ================= URL LOGIC ================= */
      const pageUrl = location.href;
      const url = new URL(pageUrl);
      const domain = url.origin;
      const videoId = pageUrl.split('/').pop().split('?')[0];
      const id = url.searchParams.get('id');
      const hash = url.searchParams.get('hash');

      /* ğŸ”¥ HLS STREAM URL (SERVER MUST PROVIDE THIS) */
      const hlsUrl = `$ {
        domain
      }
      /${videoId}/master.m3u8 ? id = $ {
        id
      } & hash = $ {
        hash
      }`;

      /* ================= PLAYER INIT ================= */
      const player = videojs('player', {
        techOrder: ['html5'],
        controls: true,
        fluid: true,
        preload: 'none',
        playbackRates: [0.5, 1, 1.25, 1.5, 2],
        html5: {
          vhs: {
            overrideNative: true
          },
          nativeAudioTracks: false,
          nativeTextTracks: false
        }
      });

      /* SET HLS SOURCE */
      player.ready(() = >{
        player.src({
          src: hlsUrl,
          type: 'application/x-mpegURL'
        });
      });

      /* ================= YOUTUBE SEEK ================= */
      player.el().addEventListener('dblclick', e = >{
        const r = player.el().getBoundingClientRect();
        const x = e.clientX - r.left;
        const t = player.currentTime();
        player.currentTime(x < r.width / 2 ? Math.max(0, t - 10) : Math.min(player.duration(), t + 10));
      });

      /* ================= AUTO AUDIO / SUBS ================= */
      player.on('loadedmetadata', () = >{
        const a = player.audioTracks();
        if (a && a.length > 0) a[0].enabled = true;

        const s = player.textTracks();
        for (let i = 0; i < s.length; i++) {
          if (s[i].kind === 'subtitles') {
            s[i].mode = 'showing';
            break;
          }
        }
      });

      /* ================= EXTERNAL PLAYERS ================= */
      function mx_player() {
        location.href = `intent: $ {
          hlsUrl
        }#Intent;
        package = com.mxtech.videoplayer.ad;
        end`
      }
      function vlc_player() {
        location.href = `vlc: //${hlsUrl}`}
        function km_player() {
          location.href = `intent: $ {
            hlsUrl
          }#Intent;
          package = com.kmplayer;
          end`
        }
        function download() {
          location.href = hlsUrl
        }
        function copyUrl() {
          navigator.clipboard.writeText(hlsUrl);
          alert("Copied")
        }
    </script>
  </body>

</html>
